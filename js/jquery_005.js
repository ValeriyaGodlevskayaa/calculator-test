if(typeof window.console==="undefined"){window.console={}}if(typeof window.console.emulated==="undefined"){if(typeof window.console.log==="function"){window.console.hasLog=true}else{if(typeof window.console.log==="undefined"){window.console.log=function(){}}window.console.hasLog=false}if(typeof window.console.debug==="function"){window.console.hasDebug=true}else{if(typeof window.console.debug==="undefined"){window.console.debug=!window.console.hasLog?function(){}:function(){var e=["console.debug:"];for(var t=0;t<arguments.length;t++){e.push(arguments[t])}window.console.log.apply(window.console,e)}}window.console.hasDebug=false}if(typeof window.console.warn==="function"){window.console.hasWarn=true}else{if(typeof window.console.warn==="undefined"){window.console.warn=!window.console.hasLog?function(){}:function(){var e=["console.warn:"];for(var t=0;t<arguments.length;t++){e.push(arguments[t])}window.console.log.apply(window.console,e)}}window.console.hasWarn=false}if(typeof window.console.error==="function"){window.console.hasError=true}else{if(typeof window.console.error==="undefined"){window.console.error=function(){var e="An error has occured.";if(window.console.hasLog){var t=["console.error:"];for(var n=0;n<arguments.length;n++){t.push(arguments[n])}window.console.log.apply(window.console,t);e="An error has occured. More information is available in your browser's javascript console."}for(var n=0;n<arguments.length;++n){if(typeof arguments[n]!=="string"){break}e+="\n"+arguments[n]}if(typeof Error!=="undefined"){throw new Error(e)}else{throw e}}}window.console.hasError=false}if(typeof window.console.trace==="function"){window.console.hasTrace=true}else{if(typeof window.console.trace==="undefined"){window.console.trace=function(){window.console.error("console.trace does not exist")}}window.console.hasTrace=false}window.console.emulated=true}(function(e){if(!(e.History||false)){e.History={options:{debug:false},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},extractHash:function(e){var t=e.replace(/^[^#]*#/,"").replace(/^#+|#+$/,"");return t},getState:function(){var t=e.History;return t.state},setState:function(t){var n=e.History;t=n.extractHash(t);n.state=t;return n.state},getHash:function(){var t=e.History;var n=t.extractHash(window.location.hash||location.hash);return n},setHash:function(t){var n=e.History;t=n.extractHash(t);if(typeof window.location.hash!=="undefined"){if(window.location.hash!==t){window.location.hash=t}}else if(location.hash!==t){location.hash=t}return t},go:function(t){var n=e.History;t=n.extractHash(t);var r=n.getHash(),i=n.getState();if(t!==r){n.setHash(t)}else{if(t!==i){n.setState(t)}n.trigger()}return true},hashchange:function(t){var n=e.History;var r=n.getHash();n.go(r);return true},bind:function(t,n){var r=e.History;if(n){if(typeof r.handlers.specific[t]==="undefined"){r.handlers.specific[t]=[]}r.handlers.specific[t].push(n)}else{n=t;r.handlers.generic.push(n)}return true},trigger:function(t){var n=e.History;if(typeof t==="undefined"){t=n.getState()}var r,i,s,o;if(typeof n.handlers.specific[t]!=="undefined"){o=n.handlers.specific[t];for(r=0,i=o.length;r<i;++r){s=o[r];s(t)}}o=n.handlers.generic;for(r=0,i=o.length;r<i;++r){s=o[r];s(t)}return true},construct:function(){var t=e.History;e(document).ready(function(){t.domReady()});return true},configure:function(t){var n=e.History;n.options=e.extend(n.options,t);return true},domReadied:false,domReady:function(){var t=e.History;if(t.domRedied){return}t.domRedied=true;t.$window=e(window);t.$window.bind("hashchange",this.hashchange);setTimeout(t.hashchangeLoader,200);return true},hashchangeLoader:function(){var t=e.History;var n=t.getHash();if(n){t.$window.trigger("hashchange")}return true}};e.History.construct()}else{window.console.warn("$.History has already been defined...")}})(jQuery)
